<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<title>Society Function — Gallery</title>
<meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
<meta name="color-scheme" content="light dark" />
<style>
:root { --maxw: 1200px; --pad: 12px; font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; }
body { margin:0; background:#0b0b0b; color:#e6edf3; }
header, footer { max-width:var(--maxw); margin:0 auto; padding:16px var(--pad); }
header h1 { margin:0 0 4px; font-size:1.35rem; }
header p { margin:0; opacity:.8; }
.wrap { max-width:var(--maxw); margin:0 auto; padding:12px var(--pad) 28px; }
.nav { display:flex; gap:8px; flex-wrap:wrap; margin-bottom:12px; }
.nav a { text-decoration:none; padding:8px 12px; border-radius:10px; background:#2d333b; color:#e6edf3; font-weight:600; }
.section { display:grid; grid-template-columns: 2fr 1fr; gap:12px; margin:18px 0 28px; }
@media (max-width: 900px) { .section { grid-template-columns: 1fr; } }
.card { background:#111; border-radius:12px; padding:12px; }
.player { position:relative; width:100%; background:#000; border-radius:12px; overflow:hidden; box-shadow:0 8px 30px rgba(0,0,0,.4); }
.player video, .player img { display:block; width:100%; height:auto; object-fit:contain; aspect-ratio:16/9; background:#000; }
.controls { display:flex; gap:8px; margin:10px 0 0; flex-wrap:wrap; }
button { appearance:none; border:0; padding:10px 14px; border-radius:10px; cursor:pointer; background:#1f6feb; color:#fff; font-weight:600; }
button.secondary { background:#2d333b; color:#e6edf3; }
.list { list-style:none; margin:0; padding:0; max-height:420px; overflow:auto; }
.list li { padding:8px 10px; border-radius:8px; cursor:pointer; }
.list li.active { background:#1f6feb22; }
.list li:hover { background:#2d333b; }
.small { font-size:.9rem; opacity:.75; }
.caption { margin-top:8px; opacity:.85; }
</style>
</head>
<body>
<header>
  <h1>Society Function — Gallery</h1>
  <p>Auto-generated on 16/8/2025, 9:07:21 pm • Cache version: 2025-08-16</p>
</header>

<div class="wrap">
  <nav class="nav">
    <a href="#champions">Champions</a><a href="#flag">Flag</a><a href="#performances">Performances</a>
  </nav>

  
  <section id="champions" class="section">
    <div class="card">
      <h2 style="margin:4px 0 8px">Champions</h2>
      <div class="player" id="player-0"></div>
      <div class="controls">
        <button class="secondary" data-prev="0">◀︎ Prev</button>
        <button class="secondary" data-next="0">Next ▶︎</button>
        <button data-reload="0">Reload Media</button>
      </div>
      <div class="caption" id="caption-0"></div>
      <div class="small" id="meta-0"></div>
    </div>
    <aside class="card">
      <h3 style="margin:4px 0 8px">Champions — Items</h3>
      <ul class="list" id="list-0"></ul>
    </aside>
  </section>
  
  <section id="flag" class="section">
    <div class="card">
      <h2 style="margin:4px 0 8px">Flag</h2>
      <div class="player" id="player-1"></div>
      <div class="controls">
        <button class="secondary" data-prev="1">◀︎ Prev</button>
        <button class="secondary" data-next="1">Next ▶︎</button>
        <button data-reload="1">Reload Media</button>
      </div>
      <div class="caption" id="caption-1"></div>
      <div class="small" id="meta-1"></div>
    </div>
    <aside class="card">
      <h3 style="margin:4px 0 8px">Flag — Items</h3>
      <ul class="list" id="list-1"></ul>
    </aside>
  </section>
  
  <section id="performances" class="section">
    <div class="card">
      <h2 style="margin:4px 0 8px">Performances</h2>
      <div class="player" id="player-2"></div>
      <div class="controls">
        <button class="secondary" data-prev="2">◀︎ Prev</button>
        <button class="secondary" data-next="2">Next ▶︎</button>
        <button data-reload="2">Reload Media</button>
      </div>
      <div class="caption" id="caption-2"></div>
      <div class="small" id="meta-2"></div>
    </div>
    <aside class="card">
      <h3 style="margin:4px 0 8px">Performances — Items</h3>
      <ul class="list" id="list-2"></ul>
    </aside>
  </section>
  
</div>

<footer>
  <small>© Your Society • Static site generated by generateIndex.js</small>
</footer>

<script>
const VERSION = "2025-08-16";
const sections = [
  {
    "id": "champions",
    "title": "Champions",
    "items": [
      {
        "type": "image",
        "src": "photos/champions/DSC00220 - Copy.JPG?v=2025-08-16",
        "label": "DSC00220 - Copy.JPG"
      },
      {
        "type": "image",
        "src": "photos/champions/DSC00222 - Copy.JPG?v=2025-08-16",
        "label": "DSC00222 - Copy.JPG"
      },
      {
        "type": "image",
        "src": "photos/champions/DSC00222.JPG?v=2025-08-16",
        "label": "DSC00222.JPG"
      },
      {
        "type": "image",
        "src": "photos/champions/DSC00223 - Copy.JPG?v=2025-08-16",
        "label": "DSC00223 - Copy.JPG"
      },
      {
        "type": "image",
        "src": "photos/champions/DSC00224 - Copy.JPG?v=2025-08-16",
        "label": "DSC00224 - Copy.JPG"
      },
      {
        "type": "image",
        "src": "photos/champions/DSC00227 - Copy.JPG?v=2025-08-16",
        "label": "DSC00227 - Copy.JPG"
      },
      {
        "type": "image",
        "src": "photos/champions/DSC00229 - Copy.JPG?v=2025-08-16",
        "label": "DSC00229 - Copy.JPG"
      },
      {
        "type": "image",
        "src": "photos/champions/DSC00230 - Copy.JPG?v=2025-08-16",
        "label": "DSC00230 - Copy.JPG"
      },
      {
        "type": "image",
        "src": "photos/champions/DSC00231 - Copy.JPG?v=2025-08-16",
        "label": "DSC00231 - Copy.JPG"
      },
      {
        "type": "image",
        "src": "photos/champions/DSC00231.JPG?v=2025-08-16",
        "label": "DSC00231.JPG"
      },
      {
        "type": "image",
        "src": "photos/champions/DSC00232 - Copy.JPG?v=2025-08-16",
        "label": "DSC00232 - Copy.JPG"
      },
      {
        "type": "image",
        "src": "photos/champions/DSC00233 - Copy.JPG?v=2025-08-16",
        "label": "DSC00233 - Copy.JPG"
      },
      {
        "type": "image",
        "src": "photos/champions/DSC00235 - Copy.JPG?v=2025-08-16",
        "label": "DSC00235 - Copy.JPG"
      },
      {
        "type": "image",
        "src": "photos/champions/DSC00298 - Copy.JPG?v=2025-08-16",
        "label": "DSC00298 - Copy.JPG"
      },
      {
        "type": "image",
        "src": "photos/champions/DSC00299 - Copy.JPG?v=2025-08-16",
        "label": "DSC00299 - Copy.JPG"
      },
      {
        "type": "image",
        "src": "photos/champions/DSC00300 - Copy.JPG?v=2025-08-16",
        "label": "DSC00300 - Copy.JPG"
      },
      {
        "type": "image",
        "src": "photos/champions/DSC00301 - Copy.JPG?v=2025-08-16",
        "label": "DSC00301 - Copy.JPG"
      },
      {
        "type": "image",
        "src": "photos/champions/DSC00305 - Copy.JPG?v=2025-08-16",
        "label": "DSC00305 - Copy.JPG"
      },
      {
        "type": "image",
        "src": "photos/champions/DSC00314.JPG?v=2025-08-16",
        "label": "DSC00314.JPG"
      },
      {
        "type": "image",
        "src": "photos/champions/DSC00315.JPG?v=2025-08-16",
        "label": "DSC00315.JPG"
      },
      {
        "type": "image",
        "src": "photos/champions/DSC00318.JPG?v=2025-08-16",
        "label": "DSC00318.JPG"
      },
      {
        "type": "image",
        "src": "photos/champions/DSC00320.JPG?v=2025-08-16",
        "label": "DSC00320.JPG"
      },
      {
        "type": "image",
        "src": "photos/champions/DSC00322.JPG?v=2025-08-16",
        "label": "DSC00322.JPG"
      },
      {
        "type": "image",
        "src": "photos/champions/DSC00324.JPG?v=2025-08-16",
        "label": "DSC00324.JPG"
      },
      {
        "type": "image",
        "src": "photos/champions/DSC00325.JPG?v=2025-08-16",
        "label": "DSC00325.JPG"
      },
      {
        "type": "image",
        "src": "photos/champions/DSC00327.JPG?v=2025-08-16",
        "label": "DSC00327.JPG"
      }
    ]
  },
  {
    "id": "flag",
    "title": "Flag",
    "items": [
      {
        "type": "image",
        "src": "photos/flag/DSC00106.JPG?v=2025-08-16",
        "label": "DSC00106.JPG"
      },
      {
        "type": "image",
        "src": "photos/flag/DSC00107.JPG?v=2025-08-16",
        "label": "DSC00107.JPG"
      },
      {
        "type": "image",
        "src": "photos/flag/DSC00108.JPG?v=2025-08-16",
        "label": "DSC00108.JPG"
      },
      {
        "type": "image",
        "src": "photos/flag/DSC00109.JPG?v=2025-08-16",
        "label": "DSC00109.JPG"
      },
      {
        "type": "image",
        "src": "photos/flag/DSC00110.JPG?v=2025-08-16",
        "label": "DSC00110.JPG"
      },
      {
        "type": "image",
        "src": "photos/flag/DSC00111.JPG?v=2025-08-16",
        "label": "DSC00111.JPG"
      },
      {
        "type": "image",
        "src": "photos/flag/DSC00112.JPG?v=2025-08-16",
        "label": "DSC00112.JPG"
      },
      {
        "type": "image",
        "src": "photos/flag/DSC00113.JPG?v=2025-08-16",
        "label": "DSC00113.JPG"
      },
      {
        "type": "image",
        "src": "photos/flag/DSC00114.JPG?v=2025-08-16",
        "label": "DSC00114.JPG"
      },
      {
        "type": "image",
        "src": "photos/flag/DSC00115.JPG?v=2025-08-16",
        "label": "DSC00115.JPG"
      },
      {
        "type": "image",
        "src": "photos/flag/DSC00116.JPG?v=2025-08-16",
        "label": "DSC00116.JPG"
      },
      {
        "type": "image",
        "src": "photos/flag/DSC00117.JPG?v=2025-08-16",
        "label": "DSC00117.JPG"
      },
      {
        "type": "image",
        "src": "photos/flag/DSC00118.JPG?v=2025-08-16",
        "label": "DSC00118.JPG"
      },
      {
        "type": "image",
        "src": "photos/flag/DSC00119.JPG?v=2025-08-16",
        "label": "DSC00119.JPG"
      },
      {
        "type": "image",
        "src": "photos/flag/DSC00120.JPG?v=2025-08-16",
        "label": "DSC00120.JPG"
      },
      {
        "type": "image",
        "src": "photos/flag/DSC00121.JPG?v=2025-08-16",
        "label": "DSC00121.JPG"
      },
      {
        "type": "image",
        "src": "photos/flag/DSC00122.JPG?v=2025-08-16",
        "label": "DSC00122.JPG"
      },
      {
        "type": "image",
        "src": "photos/flag/DSC00123.JPG?v=2025-08-16",
        "label": "DSC00123.JPG"
      },
      {
        "type": "image",
        "src": "photos/flag/DSC00124.JPG?v=2025-08-16",
        "label": "DSC00124.JPG"
      },
      {
        "type": "image",
        "src": "photos/flag/DSC00125.JPG?v=2025-08-16",
        "label": "DSC00125.JPG"
      },
      {
        "type": "image",
        "src": "photos/flag/DSC00126.JPG?v=2025-08-16",
        "label": "DSC00126.JPG"
      },
      {
        "type": "image",
        "src": "photos/flag/DSC00127.JPG?v=2025-08-16",
        "label": "DSC00127.JPG"
      },
      {
        "type": "image",
        "src": "photos/flag/DSC00128.JPG?v=2025-08-16",
        "label": "DSC00128.JPG"
      },
      {
        "type": "image",
        "src": "photos/flag/DSC00129.JPG?v=2025-08-16",
        "label": "DSC00129.JPG"
      },
      {
        "type": "image",
        "src": "photos/flag/DSC00130.JPG?v=2025-08-16",
        "label": "DSC00130.JPG"
      },
      {
        "type": "image",
        "src": "photos/flag/DSC00131.JPG?v=2025-08-16",
        "label": "DSC00131.JPG"
      },
      {
        "type": "image",
        "src": "photos/flag/DSC00132.JPG?v=2025-08-16",
        "label": "DSC00132.JPG"
      },
      {
        "type": "image",
        "src": "photos/flag/DSC00133.JPG?v=2025-08-16",
        "label": "DSC00133.JPG"
      },
      {
        "type": "image",
        "src": "photos/flag/DSC00134.JPG?v=2025-08-16",
        "label": "DSC00134.JPG"
      },
      {
        "type": "image",
        "src": "photos/flag/DSC00135.JPG?v=2025-08-16",
        "label": "DSC00135.JPG"
      },
      {
        "type": "image",
        "src": "photos/flag/DSC00136.JPG?v=2025-08-16",
        "label": "DSC00136.JPG"
      },
      {
        "type": "image",
        "src": "photos/flag/DSC00137.JPG?v=2025-08-16",
        "label": "DSC00137.JPG"
      },
      {
        "type": "image",
        "src": "photos/flag/DSC00138.JPG?v=2025-08-16",
        "label": "DSC00138.JPG"
      },
      {
        "type": "image",
        "src": "photos/flag/DSC00139.JPG?v=2025-08-16",
        "label": "DSC00139.JPG"
      },
      {
        "type": "image",
        "src": "photos/flag/DSC00140.JPG?v=2025-08-16",
        "label": "DSC00140.JPG"
      },
      {
        "type": "image",
        "src": "photos/flag/DSC00141.JPG?v=2025-08-16",
        "label": "DSC00141.JPG"
      },
      {
        "type": "image",
        "src": "photos/flag/DSC00142.JPG?v=2025-08-16",
        "label": "DSC00142.JPG"
      },
      {
        "type": "image",
        "src": "photos/flag/DSC00143.JPG?v=2025-08-16",
        "label": "DSC00143.JPG"
      },
      {
        "type": "image",
        "src": "photos/flag/DSC00144.JPG?v=2025-08-16",
        "label": "DSC00144.JPG"
      },
      {
        "type": "image",
        "src": "photos/flag/DSC00145.JPG?v=2025-08-16",
        "label": "DSC00145.JPG"
      },
      {
        "type": "image",
        "src": "photos/flag/DSC00146.JPG?v=2025-08-16",
        "label": "DSC00146.JPG"
      },
      {
        "type": "image",
        "src": "photos/flag/DSC00147.JPG?v=2025-08-16",
        "label": "DSC00147.JPG"
      },
      {
        "type": "image",
        "src": "photos/flag/DSC00148.JPG?v=2025-08-16",
        "label": "DSC00148.JPG"
      },
      {
        "type": "image",
        "src": "photos/flag/DSC00149.JPG?v=2025-08-16",
        "label": "DSC00149.JPG"
      },
      {
        "type": "image",
        "src": "photos/flag/DSC00150.JPG?v=2025-08-16",
        "label": "DSC00150.JPG"
      },
      {
        "type": "image",
        "src": "photos/flag/DSC00151.JPG?v=2025-08-16",
        "label": "DSC00151.JPG"
      },
      {
        "type": "image",
        "src": "photos/flag/DSC00152.JPG?v=2025-08-16",
        "label": "DSC00152.JPG"
      },
      {
        "type": "image",
        "src": "photos/flag/DSC00153.JPG?v=2025-08-16",
        "label": "DSC00153.JPG"
      },
      {
        "type": "image",
        "src": "photos/flag/DSC00154.JPG?v=2025-08-16",
        "label": "DSC00154.JPG"
      },
      {
        "type": "image",
        "src": "photos/flag/DSC00155.JPG?v=2025-08-16",
        "label": "DSC00155.JPG"
      },
      {
        "type": "image",
        "src": "photos/flag/DSC00156.JPG?v=2025-08-16",
        "label": "DSC00156.JPG"
      },
      {
        "type": "image",
        "src": "photos/flag/DSC00157.JPG?v=2025-08-16",
        "label": "DSC00157.JPG"
      },
      {
        "type": "image",
        "src": "photos/flag/DSC00158.JPG?v=2025-08-16",
        "label": "DSC00158.JPG"
      },
      {
        "type": "image",
        "src": "photos/flag/DSC00159.JPG?v=2025-08-16",
        "label": "DSC00159.JPG"
      },
      {
        "type": "image",
        "src": "photos/flag/WhatsApp Image 2025-08-15 at 12.14.31 PM.jpeg?v=2025-08-16",
        "label": "WhatsApp Image 2025-08-15 at 12.14.31 PM.jpeg"
      },
      {
        "type": "image",
        "src": "photos/flag/WhatsApp Image 2025-08-15 at 12.15.09 PM.jpeg?v=2025-08-16",
        "label": "WhatsApp Image 2025-08-15 at 12.15.09 PM.jpeg"
      },
      {
        "type": "image",
        "src": "photos/flag/WhatsApp Image 2025-08-15 at 12.15.10 PM (1).jpeg?v=2025-08-16",
        "label": "WhatsApp Image 2025-08-15 at 12.15.10 PM (1).jpeg"
      },
      {
        "type": "image",
        "src": "photos/flag/WhatsApp Image 2025-08-15 at 12.15.10 PM.jpeg?v=2025-08-16",
        "label": "WhatsApp Image 2025-08-15 at 12.15.10 PM.jpeg"
      },
      {
        "type": "image",
        "src": "photos/flag/WhatsApp Image 2025-08-15 at 12.15.11 PM.jpeg?v=2025-08-16",
        "label": "WhatsApp Image 2025-08-15 at 12.15.11 PM.jpeg"
      },
      {
        "type": "image",
        "src": "photos/flag/WhatsApp Image 2025-08-15 at 12.15.13 PM.jpeg?v=2025-08-16",
        "label": "WhatsApp Image 2025-08-15 at 12.15.13 PM.jpeg"
      },
      {
        "type": "image",
        "src": "photos/flag/WhatsApp Image 2025-08-15 at 12.15.14 PM.jpeg?v=2025-08-16",
        "label": "WhatsApp Image 2025-08-15 at 12.15.14 PM.jpeg"
      },
      {
        "type": "image",
        "src": "photos/flag/WhatsApp Image 2025-08-15 at 12.15.15 PM (1).jpeg?v=2025-08-16",
        "label": "WhatsApp Image 2025-08-15 at 12.15.15 PM (1).jpeg"
      },
      {
        "type": "image",
        "src": "photos/flag/WhatsApp Image 2025-08-15 at 12.15.15 PM.jpeg?v=2025-08-16",
        "label": "WhatsApp Image 2025-08-15 at 12.15.15 PM.jpeg"
      },
      {
        "type": "image",
        "src": "photos/flag/WhatsApp Image 2025-08-15 at 12.15.16 PM.jpeg?v=2025-08-16",
        "label": "WhatsApp Image 2025-08-15 at 12.15.16 PM.jpeg"
      },
      {
        "type": "image",
        "src": "photos/flag/WhatsApp Image 2025-08-15 at 12.15.17 PM (1).jpeg?v=2025-08-16",
        "label": "WhatsApp Image 2025-08-15 at 12.15.17 PM (1).jpeg"
      },
      {
        "type": "image",
        "src": "photos/flag/WhatsApp Image 2025-08-15 at 12.15.17 PM.jpeg?v=2025-08-16",
        "label": "WhatsApp Image 2025-08-15 at 12.15.17 PM.jpeg"
      },
      {
        "type": "video",
        "src": "photos/flag/WhatsApp Video 2025-08-15 at 12.15.12 PM.mp4?v=2025-08-16",
        "poster": null,
        "label": "WhatsApp Video 2025-08-15 at 12.15.12 PM"
      }
    ]
  },
  {
    "id": "performances",
    "title": "Performances",
    "items": [
      {
        "type": "video",
        "src": "photos/performances/C0081_fixed.mp4?v=2025-08-16",
        "poster": null,
        "label": "C0081_fixed"
      },
      {
        "type": "image",
        "src": "photos/performances/DSC00177.JPG?v=2025-08-16",
        "label": "DSC00177.JPG"
      },
      {
        "type": "image",
        "src": "photos/performances/DSC00179.JPG?v=2025-08-16",
        "label": "DSC00179.JPG"
      },
      {
        "type": "image",
        "src": "photos/performances/DSC00184.JPG?v=2025-08-16",
        "label": "DSC00184.JPG"
      },
      {
        "type": "image",
        "src": "photos/performances/DSC00188.JPG?v=2025-08-16",
        "label": "DSC00188.JPG"
      },
      {
        "type": "image",
        "src": "photos/performances/DSC00191.JPG?v=2025-08-16",
        "label": "DSC00191.JPG"
      },
      {
        "type": "image",
        "src": "photos/performances/DSC00196.JPG?v=2025-08-16",
        "label": "DSC00196.JPG"
      },
      {
        "type": "image",
        "src": "photos/performances/DSC00201.JPG?v=2025-08-16",
        "label": "DSC00201.JPG"
      },
      {
        "type": "image",
        "src": "photos/performances/DSC00213.JPG?v=2025-08-16",
        "label": "DSC00213.JPG"
      },
      {
        "type": "image",
        "src": "photos/performances/DSC00238.JPG?v=2025-08-16",
        "label": "DSC00238.JPG"
      },
      {
        "type": "image",
        "src": "photos/performances/DSC00246.JPG?v=2025-08-16",
        "label": "DSC00246.JPG"
      },
      {
        "type": "image",
        "src": "photos/performances/DSC00248.JPG?v=2025-08-16",
        "label": "DSC00248.JPG"
      },
      {
        "type": "image",
        "src": "photos/performances/DSC00256.JPG?v=2025-08-16",
        "label": "DSC00256.JPG"
      },
      {
        "type": "image",
        "src": "photos/performances/DSC00264.JPG?v=2025-08-16",
        "label": "DSC00264.JPG"
      },
      {
        "type": "image",
        "src": "photos/performances/DSC00331.JPG?v=2025-08-16",
        "label": "DSC00331.JPG"
      },
      {
        "type": "image",
        "src": "photos/performances/DSC00332.JPG?v=2025-08-16",
        "label": "DSC00332.JPG"
      },
      {
        "type": "image",
        "src": "photos/performances/DSC00334.JPG?v=2025-08-16",
        "label": "DSC00334.JPG"
      },
      {
        "type": "image",
        "src": "photos/performances/DSC00345.JPG?v=2025-08-16",
        "label": "DSC00345.JPG"
      },
      {
        "type": "image",
        "src": "photos/performances/DSC00346.JPG?v=2025-08-16",
        "label": "DSC00346.JPG"
      }
    ]
  }
];
const state = sections.map(() => 0);

function $(sel) { return document.querySelector(sel); }
function clear(el) { while (el.firstChild) el.removeChild(el.firstChild); }

function renderList(si) {
  const ul = $("#list-" + si);
  clear(ul);
  const items = sections[si].items;
  items.forEach((item, i) => {
    const li = document.createElement("li");
    li.className = i === state[si] ? "active" : "";
    li.innerHTML = '<span class="small">#' + (i+1) + '</span> ' + (item.label || item.src);
    li.addEventListener("click", () => { state[si] = i; renderMedia(si); renderList(si); });
    ul.appendChild(li);
  });
}

function renderMedia(si) {
  const container = $("#player-" + si);
  clear(container);
  const item = sections[si].items[state[si]];
  if (!item) { container.textContent = "No media."; return; }

  if (item.type === "video") {
    const vid = document.createElement("video");
    vid.setAttribute("controls", "");
    vid.setAttribute("playsinline", "");
    vid.setAttribute("preload", "metadata");
    vid.style.width = "100%";
    vid.style.borderRadius = "12px";
    vid.style.background = "#000";
    vid.style.objectFit = "contain";
    if (item.poster) vid.poster = item.poster;

    const src = document.createElement("source");
    const fresh = item.src + (item.src.includes("?") ? "&" : "?") + "t=" + Date.now();
    src.src = fresh;
    src.type = "video/mp4";
    vid.appendChild(src);

    container.appendChild(vid);
  } else {
    const img = document.createElement("img");
    img.src = item.src;
    img.alt = item.label || "";
    container.appendChild(img);
  }

  $("#caption-" + si).textContent = item.label || (item.type === "video" ? "Video" : "Image");
  $("#meta-" + si).textContent = (item.type === "video" ? "Video" : "Image") + " • " + item.src.split("?")[0];
}

document.addEventListener("click", (e) => {
  if (e.target.matches("[data-prev]")) {
    const si = +e.target.getAttribute("data-prev");
    const n = sections[si].items.length;
    state[si] = (state[si] - 1 + n) % n;
    renderMedia(si); renderList(si);
  }
  if (e.target.matches("[data-next]")) {
    const si = +e.target.getAttribute("data-next");
    const n = sections[si].items.length;
    state[si] = (state[si] + 1) % n;
    renderMedia(si); renderList(si);
  }
  if (e.target.matches("[data-reload]")) {
    const si = +e.target.getAttribute("data-reload");
    renderMedia(si);
  }
});

(function boot(){
  sections.forEach((_, si) => { renderList(si); renderMedia(si); });
})();
</script>
</body>
</html>